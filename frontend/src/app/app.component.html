<div class="container">
  <div class="form-card">
    <h2>
      {{ isRegister ? 'Registro de Usuario UEDI 2.0' : 'Iniciar Sesión UEDI 2.0' }}
    </h2>

    <form (ngSubmit)="onSubmit()" #form="ngForm">
      <!-- Registro Académico / Usuario -->
      <input
        [(ngModel)]="registroAcademico"
        name="registroAcademico"
        placeholder="Registro Académico"
        required
      />

      <!-- Campos extra en modo registro -->
      <ng-container *ngIf="isRegister">
        <input
          [(ngModel)]="nombre"
          name="nombre"
          placeholder="Nombre"
          required
        />
        <input
          [(ngModel)]="apellido"
          name="apellido"
          placeholder="Apellido"
          required
        />
        <input
          type="email"
          [(ngModel)]="email"
          name="email"
          placeholder="Email"
          required
        />
      </ng-container>

      <!-- Contraseña -->
      <input
        type="password"
        [(ngModel)]="password"
        name="password"
        placeholder="Contraseña"
        required
      />

      <!-- Repetir contraseña en registro -->
      <ng-container *ngIf="isRegister">
        <input
          type="password"
          [(ngModel)]="confirm"
          name="confirm"
          placeholder="Repite contraseña"
          required
        />
      </ng-container>

      <!-- Validación de contraseñas -->
      <p class="message"
         *ngIf="isRegister && confirm && password !== confirm">
        Las contraseñas no coinciden
      </p>

      <button
        type="submit"
        [disabled]="isRegister && password !== confirm"
      >
        {{ isRegister ? 'Registrarse' : 'Entrar' }}
      </button>
    </form>

    <p class="message">{{ message }}</p>

    <a
      class="toggle"
      href="#"
      (click)="toggleForm(); $event.preventDefault()"
    >
      {{ isRegister
        ? '¿Ya tienes cuenta? Inicia sesión'
        : '¿No tienes cuenta? Regístrate' }}
    </a>
  </div>
</div>
